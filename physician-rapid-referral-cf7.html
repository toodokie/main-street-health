<!-- 
PHYSICIAN RAPID REFERRAL FORM - CONTACT FORM 7
==============================================
SETUP INSTRUCTIONS:

1. SIGNATURE FIELDS REQUIRE ONE OF THESE PLUGINS:
   - "Contact Form 7 Signature Addon" by Breizhtorm (Free)
   - "Signature Addon for Contact Form 7" by WP Dynamics
   
   Without a signature plugin, the [signature] tags will show as plain text.
   
2. ALTERNATIVE IF NO SIGNATURE PLUGIN:
   Replace [signature* physician-signature] with:
   [text* physician-signature placeholder "Type your full name as signature"]
   
3. FORM SETUP:
   - Create new form in Contact Form 7
   - Copy this entire HTML code (including styles) into the Form tab
   - Configure Mail settings for form submissions
   
4. MAIL SETTINGS EXAMPLE:
   To: [your-email]
   From: [your-email] 
   Subject: New Physician Rapid Referral Form
   
   Message body:
   REFERRING PHYSICIAN:
   Name: [referring-first-name] [referring-last-name]
   CPSO: [cpso]
   Address: [referring-address]
   City: [referring-city]
   Phone: [referring-phone]
   Fax: [referring-fax]
   State/Province: [referring-state]
   Postal Code: [referring-postal]
   
   PATIENT:
   Name: [patient-first-name] [patient-last-name]
   Phone: [patient-phone]
   Date of Birth: [dob-month]/[dob-day]/[dob-year]
   
   Chief Complaints: [chief-complaints]
   Other Treatments: [other-treatments]
-->

<style>
/* Physician Rapid Referral Form - Custom Styles */
/* Brand Colors: #2B4666 (primary blue), #A6C0A4 (light green) */

.form-contact-qrcode.physician-referral-form {
    padding: 30px 1em;
    background-color: #f8f9fa;
    border: 1px solid #999999;
    border-radius: 18px;
}

/* Form Title - Removed */

/* File Upload Section */
.physician-referral-form .file-upload-section {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 25px;
    border: 1px solid #ddd;
}

/* File Upload Button */
.physician-referral-form .pxl-file-upload-button {
    margin: 0.75em !important;
    margin-right: 15px !important;
}

/* File Upload - Label on first line, button and filename on second line */
.physician-referral-form .input-filled label {
    display: block !important;
    width: 100% !important;
    margin-bottom: 10px !important;
}

.physician-referral-form .wpcf7-form-control-wrap.referral-file {
    display: block !important;
}

/* File upload wrapper alignment */
.physician-referral-form .pxl-file-upload-wrapper {
    position: relative;
    display: inline-flex !important;
    flex-direction: row-reverse;
    padding-bottom: 10px;
    align-items: center !important;
    vertical-align: middle !important;
}

/* Ensure button and text are aligned */
.physician-referral-form .pxl-file-upload-wrapper > * {
    vertical-align: middle !important;
}

.physician-referral-form .pxl-file-upload-wrapper input[type="file"] {
    display: inline-block !important;
    vertical-align: middle !important;
}

.physician-referral-form .pxl-file-upload-wrapper .pxl-file-upload-text {
    line-height: normal !important;
    vertical-align: middle !important;
    display: inline-flex !important;
    align-items: center !important;
}

/* Mobile - Stack and left-align file upload elements */
@media (max-width: 768px) {
    .physician-referral-form .pxl-file-upload-wrapper {
        flex-direction: column-reverse !important;
        align-items: flex-start !important;
        gap: 10px !important;
    }
    
    .physician-referral-form .pxl-file-upload-button {
        margin-left: 0 !important;
    }
    
    .physician-referral-form .pxl-file-upload-wrapper > * {
        width: auto !important;
    }
}

.physician-referral-form .file-upload-info {
    color: #0F5C82;
    font-size: 14px;
    margin-bottom: 15px;
    line-height: 1.5;
}

.physician-referral-form .phone-link {
    color: #2B4666;
    text-decoration: underline;
    font-weight: 500;
}

/* Section Titles */
.physician-referral-form .form-section-title {
    color: #2B4666;
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 25px;
    padding-bottom: 10px;
    border-bottom: 2px solid #A6C0A4;
}

/* Input Fields */
.physician-referral-form .input-filled {
    margin-bottom: 20px;
}

.physician-referral-form .input-filled label {
    display: block;
    color: #2B4666;
    font-weight: 500;
    margin-bottom: 8px;
    font-size: 14px;
}

.physician-referral-form .input-filled input[type="text"],
.physician-referral-form .input-filled input[type="tel"],
.physician-referral-form .input-filled select,
.physician-referral-form .input-filled textarea {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    transition: border-color 0.3s;
    box-sizing: border-box;
}

.physician-referral-form .input-filled input:focus,
.physician-referral-form .input-filled select:focus,
.physician-referral-form .input-filled textarea:focus {
    border-color: #A6C0A4;
    outline: none;
    box-shadow: 0 0 0 2px rgba(166, 192, 164, 0.2);
}

/* Required Field Labels */
.physician-referral-form .required-label::after {
    content: " *";
    color: #dc3545;
    font-weight: bold;
}

/* Date of Birth Section */
.physician-referral-form .dob-section {
    display: flex;
    gap: 10px;
    align-items: end;
}

.physician-referral-form .dob-section .input-filled {
    flex: 1;
    margin-bottom: 0;
}

.physician-referral-form .dob-section select {
    padding: 10px 8px;
}

/* Textarea */
.physician-referral-form textarea {
    min-height: 120px;
    resize: vertical;
    font-family: inherit;
    line-height: 1.5;
}

/* Signature Field */
.physician-referral-form .signature-section {
    margin: 30px 0;
}

.physician-referral-form .physician-signature {
    display: block !important;
    width: 100% !important;
    max-width: 400px !important;
}

/* Signature Canvas Styles */
.physician-referral-form canvas.wpcf7-signature,
.physician-referral-form canvas,
.physician-referral-form .wpcf7-form-control-signature-wrap canvas,
.physician-referral-form .physician-signature canvas {
    border: 1px solid #ddd !important;
    border-radius: 8px !important;
    background: #f8f8f8 !important;
    cursor: crosshair !important;
    display: block !important;
    touch-action: none !important;
    padding: 10px !important;
    box-sizing: border-box !important;
}

.physician-referral-form canvas.wpcf7-signature:hover,
.physician-referral-form canvas:hover {
    border-color: #A6C0A4 !important;
}

/* Signature Clear Button */
.physician-referral-form input[type="button"].clear,
.physician-referral-form button.clear,
.physician-referral-form .clear {
    background-color: #A6C0A4 !important;
    color: white !important;
    border: none !important;
    padding: 8px 16px !important;
    border-radius: 4px !important;
    font-size: 14px !important;
    cursor: pointer !important;
    margin-top: 1em !important;
}

/* Clear button wrapper */
.physician-referral-form .wpcf7-form-control-clear-wrap {
    margin-top: 1em !important;
}

/* CAPTCHA Section */
.physician-referral-form .captcha-section {
    margin: 25px 0;
    text-align: left;
}

/* Submit Button */
.physician-referral-form .submit-section {
    text-align: left;
    margin-top: 30px;
    margin-bottom: 2em;
}

.physician-referral-form .wpcf7-submit.submit-btn {
    background-color: #2B4666 !important;
    color: white !important;
    padding: 12px 30px;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.3s;
}

.physician-referral-form .wpcf7-submit.submit-btn:hover {
    background-color: #1e3147 !important;
}

/* Responsive Design */
@media (max-width: 1024px) {
    /* Tablet portrait - DOB fields full width */
    .physician-referral-form .dob-section {
        flex-direction: column;
        gap: 15px;
    }
    
    .physician-referral-form .dob-section .input-filled {
        width: 100%;
    }
    
    .physician-referral-form .dob-section select {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .physician-referral-form .dob-section {
        flex-direction: column;
        gap: 15px;
    }
    
    .physician-referral-form .form-main-title {
        font-size: 24px;
    }
    
    .physician-referral-form .form-section-title {
        font-size: 18px;
    }
    
    /* Mobile signature canvas adjustments */
    .physician-referral-form canvas.wpcf7-signature,
    .physician-referral-form canvas {
        max-width: calc(100vw - 40px) !important;
        width: 100% !important;
        height: 150px !important;
    }
    
    /* Signature wrapper to fit mobile screen */
    .physician-referral-form .wpcf7-form-control-signature-wrap {
        max-width: 100% !important;
        overflow: hidden !important;
    }
    
    .physician-referral-form .wpcf7-form-control-signature-wrap * {
        max-width: 100% !important;
    }
}

/* Error Messages */
.physician-referral-form .wpcf7-not-valid {
    border-color: #c74545 !important;
}

.physician-referral-form .wpcf7-not-valid-tip {
    color: #c74545 !important;
    font-size: 13px !important;
    margin-top: 5px !important;
    display: block !important;
    background: transparent !important;
    border: none !important;
}

.physician-referral-form .wpcf7-validation-errors,
.physician-referral-form .wpcf7-response-output {
    border: 2px solid #c74545 !important;
    background: #fef2f2 !important;
    color: #c74545 !important;
    padding: 15px !important;
    margin: 20px 0 !important;
    border-radius: 4px !important;
}
</style>

<div class="form-contact-qrcode physician-referral-form">
    <div class="container">
        <div class="row">
            
            
            <!-- File Upload Section -->
            <div class="col-12">
                <div class="file-upload-section">
                    <div class="input-filled">
                        <span class="wpcf7-form-control-wrap referral-file">
                            <label>Upload Referral Form (Max file size: 50 MB)</label>
                            [file referral-file limit:52428800 filetypes:pdf|doc|docx|jpg|jpeg|png]
                        </span>
                    </div>
                    <div class="file-upload-info">
                        <p><strong>No need to fill out the required fields if you upload your Physician Rapid Referral Form above.</strong> Simply upload it, scroll down and click submit.</p>
                        <p>Directly fax your referral at <a href="tel:+19055244866" class="phone-link">+1 (905) 524-4866</a></p>
                    </div>
                </div>
            </div>
            
            <!-- Referring Physician Information -->
            <div class="col-12">
                <h3 class="form-section-title">Referring Physician Information</h3>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap referring-first-name">
                    <label class="required-label">Referring Physician's First Name</label>
                    [text* referring-first-name id:referring-first-name]
                </span>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap referring-last-name">
                    <label class="required-label">Referring Physician's Last Name</label>
                    [text* referring-last-name id:referring-last-name]
                </span>
            </div>
            
            <div class="input-filled col-xl-12">
                <span class="wpcf7-form-control-wrap cpso">
                    <label>CPSO #</label>
                    [text cpso id:cpso]
                </span>
            </div>
            
            <div class="input-filled col-xl-12">
                <span class="wpcf7-form-control-wrap referring-address">
                    <label>Referring Physician's Address</label>
                    [text referring-address id:referring-address]
                </span>
            </div>
            
            <div class="input-filled col-xl-12">
                <span class="wpcf7-form-control-wrap referring-city">
                    <label>Referring Physician's City</label>
                    [text referring-city id:referring-city]
                </span>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap referring-phone">
                    <label class="required-label">Referring Physician's Phone</label>
                    [tel* referring-phone id:referring-phone]
                </span>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap referring-fax">
                    <label>Referring Physician's Fax</label>
                    [tel referring-fax id:referring-fax]
                </span>
            </div>
            
            <div class="input-filled col-xl-12">
                <span class="wpcf7-form-control-wrap referring-state">
                    <label>Referring Physician's State / Province / Region</label>
                    [text referring-state id:referring-state]
                </span>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap referring-postal">
                    <label>Referring Physician's Postal / Zip Code</label>
                    [text referring-postal id:referring-postal]
                </span>
            </div>
            
            <!-- Patient Information -->
            <div class="col-12">
                <h3 class="form-section-title">Patient Information</h3>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap patient-first-name">
                    <label class="required-label">Patient's First Name</label>
                    [text* patient-first-name id:patient-first-name]
                </span>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap patient-last-name">
                    <label class="required-label">Patient's Last Name</label>
                    [text* patient-last-name id:patient-last-name]
                </span>
            </div>
            
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <span class="wpcf7-form-control-wrap patient-phone">
                    <label class="required-label">Patient's Phone</label>
                    [tel* patient-phone id:patient-phone]
                </span>
            </div>
            
            <!-- Date of Birth -->
            <div class="input-filled col-xl-6 col-lg-6 col-md-6 col-sm-12">
                <label>Date of Birth</label>
                <div class="dob-section">
                    <div class="input-filled">
                        <span class="wpcf7-form-control-wrap dob-month">
                            [select dob-month "Month" "01" "02" "03" "04" "05" "06" "07" "08" "09" "10" "11" "12"]
                        </span>
                    </div>
                    <div class="input-filled">
                        <span class="wpcf7-form-control-wrap dob-day">
                            [select dob-day "Date" "01" "02" "03" "04" "05" "06" "07" "08" "09" "10" "11" "12" "13" "14" "15" "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26" "27" "28" "29" "30" "31"]
                        </span>
                    </div>
                    <div class="input-filled">
                        <span class="wpcf7-form-control-wrap dob-year">
                            [select dob-year "Year" "2024" "2023" "2022" "2021" "2020" "2019" "2018" "2017" "2016" "2015" "2014" "2013" "2012" "2011" "2010" "2009" "2008" "2007" "2006" "2005" "2004" "2003" "2002" "2001" "2000" "1999" "1998" "1997" "1996" "1995" "1994" "1993" "1992" "1991" "1990" "1989" "1988" "1987" "1986" "1985" "1984" "1983" "1982" "1981" "1980" "1979" "1978" "1977" "1976" "1975" "1974" "1973" "1972" "1971" "1970" "1969" "1968" "1967" "1966" "1965" "1964" "1963" "1962" "1961" "1960" "1959" "1958" "1957" "1956" "1955" "1954" "1953" "1952" "1951" "1950" "1949" "1948" "1947" "1946" "1945" "1944" "1943" "1942" "1941" "1940"]
                        </span>
                    </div>
                </div>
            </div>
            
            <!-- Chief Complaints -->
            <div class="input-filled col-12">
                <span class="wpcf7-form-control-wrap chief-complaints">
                    <label class="required-label">Chief Complaints</label>
                    [textarea* chief-complaints id:chief-complaints rows:6]
                </span>
            </div>
            
            <!-- Other Treatments Required -->
            <div class="input-filled col-12">
                <span class="wpcf7-form-control-wrap other-treatments">
                    <label>Other Treatments Required</label>
                    [textarea other-treatments id:other-treatments rows:6]
                </span>
            </div>
            
            <!-- Signature -->
            <div class="col-12">
                <div class="signature-section">
                    <div class="input-filled">
                        <span class="wpcf7-form-control-wrap physician-signature">
                            <label>Signature</label>
                            [signature physician-signature 400x200 class:physician-signature]
                        </span>
                    </div>
                </div>
            </div>
            
            <!-- CAPTCHA -->
            <div class="col-12">
                <div class="captcha-section">
                    <div class="input-filled">
                        <span class="wpcf7-form-control-wrap captcha-field">
                            [really-simple-captcha captcha-field]
                        </span>
                    </div>
                </div>
            </div>
            
            <!-- Submit Button -->
            <div class="col-12">
                <div class="submit-section">
                    <button type="submit" class="wpcf7-submit submit-btn">Submit</button>
                </div>
            </div>
            
        </div>
    </div>
</div>